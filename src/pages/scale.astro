---
import BaseLayout from '../layouts/BaseLayout.astro';

// Dimensions of Scale & Leadership
const dimensions = [
  {
    id: 'building-from-zero',
    title: 'Building from Zero',
    tagline: 'Starting with nothing and creating teams that ship',
    color: 'emerald',
    stories: [
      {
        company: 'TargetBeyond',
        period: '2012–2017',
        location: 'Brazil → LATAM & Europe',
        headline: 'Founded and scaled a 20+ person consultancy',
        context: 'Started as a solo freelancer. Built a distributed engineering organization across Brazil, Argentina, and Portugal. Delivered 20+ software products to clients in banking, betting, and manufacturing. Managed everything: hiring, architecture, vendors, budgets, and client relationships.',
        outcome: '20+ products shipped',
        learnings: 'How to build trust with clients, hire across borders, and deliver under constraints.',
      },
      {
        company: 'LivingOffset',
        period: '2017–2018',
        location: 'Dublin, Ireland',
        headline: 'Built climate-tech startup from first hire to MVP',
        context: 'Founded a carbon offsetting platform using blockchain for transparency. Recruited and led a 9-person cross-functional team (engineering, product, design). Developed Ethereum-based tracking integrated with verified carbon APIs. Shipped a polished MVP and ran pilot programs.',
        outcome: 'Full product from 0',
        learnings: 'Lean validation, building conviction in a team when the path is unclear.',
      },
    ],
  },
  {
    id: 'scaling-teams',
    title: 'Scaling Teams & Systems',
    tagline: 'Growing organizations without losing speed or quality',
    color: 'blue',
    stories: [
      {
        company: 'Farfetch',
        period: '2019–2022',
        location: 'Porto, Portugal',
        headline: 'Grew Identity engineering from 1 to 4 squads',
        context: 'Inherited a single team responsible for authentication and account management. Over three years, scaled to 4 squads with 15+ engineers. The platform grew to serve 3.9 million monthly active users. Launched unified Farfetch Login, reducing login-related support tickets by 50%. Implemented CI/CD automation for daily deployments.',
        outcome: '3.9M MAUs served',
        learnings: 'Hiring senior engineers, creating team autonomy while maintaining coherence.',
      },
      {
        company: 'Primer',
        period: '2022–2023',
        location: 'London, UK (Remote)',
        headline: 'Directed 7 squads, ~40 engineers, 50% of company output',
        context: 'Led Commerce and Payment Experience—the largest engineering group at Primer. Re-architected checkout services to accelerate feature delivery by 80%. Authored engineering principles and progression framework adopted company-wide. Orchestrated a 33% org restructure without impacting delivery timelines.',
        outcome: '40+ engineers',
        learnings: 'Manager-of-managers craft, two-way decision making, remote-first culture.',
      },
      {
        company: 'Rauva',
        period: '2024–2025',
        location: 'Portugal',
        headline: 'Restructured 20+ engineer org for 50% throughput boost',
        context: 'Joined as Head of Engineering to fix delivery bottlenecks. Decentralized leadership by promoting engineering leads. Shifted to iterative, decision-driven sprints. Implemented DORA metrics and quality KPIs. Result: 50% increase in team throughput and 66% bug reduction in one quarter.',
        outcome: '50% throughput increase',
        learnings: 'Sometimes the fix is structure, not headcount.',
      },
    ],
  },
  {
    id: 'multiplying-output',
    title: 'Multiplying Output',
    tagline: 'Creating leverage through systems, not just adding people',
    color: 'orange',
    stories: [
      {
        company: 'Primer',
        period: '2022',
        location: 'London, UK (Remote)',
        headline: 'Cut third-party onboarding from 1 month to 2 days',
        context: 'Payment processors needed weeks of back-and-forth to integrate with Primer. Built developer-focused APIs and self-serve tooling. Reduced onboarding time by 15x. This unlocked faster partnership deals and reduced engineering support burden.',
        outcome: '15x faster onboarding',
        learnings: 'Developer experience is a multiplier for the whole business.',
      },
      {
        company: 'Farfetch',
        period: '2020',
        location: 'Porto, Portugal',
        headline: 'CI/CD automation for 90% faster release cadence',
        context: 'Releases were painful and slow—manual processes, fear of breakage. Implemented automated pipelines, testing gates, and deployment tooling. Moved from weekly releases to daily deployments. Engineers could ship with confidence.',
        outcome: '90% faster releases',
        learnings: 'Invest in the release process and everything downstream improves.',
      },
      {
        company: 'CWI Software',
        period: '2007–2010',
        location: 'Brazil',
        headline: 'Built code generation tools that cut dev time by 90%',
        context: 'Early in career, noticed repetitive boilerplate across projects. Created internal tools that auto-generated standard code patterns. Introduced company-wide unit testing and CI. Started the habit of building tools that multiply team output.',
        outcome: '90% time saved',
        learnings: 'Tooling mindset—always look for the repeatable problem.',
      },
    ],
  },
];

const colorClasses: Record<string, { bg: string; border: string; text: string; accent: string }> = {
  emerald: {
    bg: 'bg-emerald-50 dark:bg-emerald-900/20',
    border: 'border-emerald-200 dark:border-emerald-800',
    text: 'text-emerald-700 dark:text-emerald-300',
    accent: 'bg-emerald-500',
  },
  blue: {
    bg: 'bg-blue-50 dark:bg-blue-900/20',
    border: 'border-blue-200 dark:border-blue-800',
    text: 'text-blue-700 dark:text-blue-300',
    accent: 'bg-blue-500',
  },
  orange: {
    bg: 'bg-orange-50 dark:bg-orange-900/20',
    border: 'border-orange-200 dark:border-orange-800',
    text: 'text-orange-700 dark:text-orange-300',
    accent: 'bg-orange-500',
  },
};
---

<BaseLayout title="Scale" description="How Andreos Klering builds and scales engineering teams.">
  <section class="py-12 md:py-16">
    <div class="max-w-5xl mx-auto px-6">
      <div class="mb-12">
        <h1 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4">
          Scale & Leadership
        </h1>
        <p class="text-lg text-gray-600 dark:text-gray-400 max-w-3xl">
          20 years of building teams from zero, scaling organizations, and creating systems that multiply output.
          Here's how I think about growing engineering.
        </p>
      </div>

      <!-- Quick Stats Bar -->
      <div class="grid grid-cols-4 gap-3 mb-10">
        <div class="text-center p-4 rounded-xl bg-gray-100 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700">
          <p class="text-2xl md:text-3xl font-bold text-gray-900 dark:text-white">2</p>
          <p class="text-xs text-gray-600 dark:text-gray-400">Startups founded</p>
        </div>
        <div class="text-center p-4 rounded-xl bg-gray-100 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700">
          <p class="text-2xl md:text-3xl font-bold text-gray-900 dark:text-white">40+</p>
          <p class="text-xs text-gray-600 dark:text-gray-400">Engineers at peak</p>
        </div>
        <div class="text-center p-4 rounded-xl bg-gray-100 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700">
          <p class="text-2xl md:text-3xl font-bold text-gray-900 dark:text-white">3.9M</p>
          <p class="text-xs text-gray-600 dark:text-gray-400">MAUs served</p>
        </div>
        <div class="text-center p-4 rounded-xl bg-gray-100 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700">
          <p class="text-2xl md:text-3xl font-bold text-gray-900 dark:text-white">7</p>
          <p class="text-xs text-gray-600 dark:text-gray-400">Squads directed</p>
        </div>
      </div>

      <!-- Dimensions -->
      <div class="space-y-10">
        {dimensions.map((dimension) => {
          const colors = colorClasses[dimension.color];
          return (
            <div id={dimension.id}>
              <!-- Dimension Header -->
              <div class="mb-4">
                <div class="flex items-center gap-3 mb-2">
                  <div class={`w-3 h-3 rounded-full ${colors.accent}`}></div>
                  <h2 class="text-2xl font-bold text-gray-900 dark:text-white">
                    {dimension.title}
                  </h2>
                </div>
                <p class="text-gray-600 dark:text-gray-400 text-lg ml-6">
                  {dimension.tagline}
                </p>
              </div>

              <!-- Stories Grid -->
              <div class="grid md:grid-cols-2 gap-4">
                {dimension.stories.map((story) => (
                  <div class={`p-6 rounded-2xl border-2 ${colors.border} ${colors.bg}`}>
                    <!-- Header -->
                    <div class="flex items-start justify-between gap-4 mb-4">
                      <div>
                        <p class={`text-sm font-semibold ${colors.text}`}>{story.company}</p>
                        <p class="text-xs text-gray-500 dark:text-gray-400">{story.period} · {story.location}</p>
                      </div>
                      <div class="text-right shrink-0">
                        <p class="text-lg font-bold text-gray-900 dark:text-white">{story.outcome}</p>
                      </div>
                    </div>

                    <!-- Headline -->
                    <h3 class="text-lg font-bold text-gray-900 dark:text-white mb-3">
                      {story.headline}
                    </h3>

                    <!-- Context -->
                    <p class="text-sm text-gray-700 dark:text-gray-300 leading-relaxed mb-4">
                      {story.context}
                    </p>

                    <!-- Learnings -->
                    <div class="pt-4 border-t border-gray-200 dark:border-gray-700">
                      <p class="text-xs text-gray-500 dark:text-gray-400">
                        <span class="font-semibold">Learned:</span> {story.learnings}
                      </p>
                    </div>
                  </div>
                ))}
              </div>
            </div>
          );
        })}
      </div>

      <!-- Navigation -->
      <div class="mt-16 pt-8 border-t border-gray-200 dark:border-gray-700">
        <div class="flex flex-wrap items-center justify-between gap-4">
          <a href="/" class="inline-flex items-center gap-2 text-orange-600 dark:text-accent hover:underline">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
            </svg>
            Back to home
          </a>
          <div class="flex items-center gap-4 text-sm">
            <a href="/impact" class="text-gray-600 dark:text-gray-400 hover:text-orange-600 dark:hover:text-accent">Impact →</a>
            <a href="/shipped" class="text-gray-600 dark:text-gray-400 hover:text-orange-600 dark:hover:text-accent">Shipped →</a>
          </div>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>
