---
import BaseLayout from '../layouts/BaseLayout.astro';

// Timeline of shipped products and outcomes
const timeline = [
  {
    year: '2025',
    company: 'Nexar',
    ship: 'Marketing self-serve platform',
    result: 'High-velocity experimentation enabled',
    type: 'product'
  },
  {
    year: '2024',
    company: 'Rauva',
    ship: 'Rauva Pay',
    result: '3 weeks to launch â†’ >1000% revenue growth',
    type: 'product',
    highlight: true
  },
  {
    year: '2024',
    company: 'Rauva',
    ship: 'DORA metrics rollout',
    result: '66% bug reduction in one quarter',
    type: 'process'
  },
  {
    year: '2023',
    company: 'Inscribe',
    ship: 'AI-first fraud detection',
    result: '+5% model accuracy, $300K+ customer savings',
    type: 'product'
  },
  {
    year: '2022',
    company: 'Primer',
    ship: 'Checkout re-architecture',
    result: '80% faster feature delivery',
    type: 'platform',
    highlight: true
  },
  {
    year: '2022',
    company: 'Primer',
    ship: 'Payment telemetry',
    result: '7.5% auth rate uplift + 20% cost reduction',
    type: 'product'
  },
  {
    year: '2022',
    company: 'Primer',
    ship: 'Third-party onboarding APIs',
    result: '1 month â†’ 2 days (15x faster)',
    type: 'platform'
  },
  {
    year: '2021',
    company: 'Farfetch',
    ship: 'Unified Farfetch Login',
    result: '50% reduction in support tickets',
    type: 'product',
    highlight: true
  },
  {
    year: '2020',
    company: 'Farfetch',
    ship: 'CI/CD automation',
    result: '90% faster release cadence â†’ daily deploys',
    type: 'platform'
  },
  {
    year: '2018',
    company: 'LivingOffset',
    ship: 'Carbon offset MVP',
    result: 'Ethereum-based tracking, 9-person team built',
    type: 'startup'
  },
  {
    year: '2012-17',
    company: 'TargetBeyond',
    ship: '20+ client platforms',
    result: 'Banking, betting, manufacturing across LATAM/EU',
    type: 'startup',
    highlight: true
  }
];

const typeIcons: Record<string, string> = {
  product: 'ðŸš€',
  platform: 'ðŸ”§',
  process: 'ðŸ“ˆ',
  startup: 'ðŸ’¡'
};

const typeLabels: Record<string, string> = {
  product: 'Product',
  platform: 'Platform',
  process: 'Process',
  startup: 'Startup'
};
---

<BaseLayout title="Shipped" description="Timeline of products and features shipped by Andreos Klering.">
  <section class="py-12 md:py-16">
    <div class="max-w-5xl mx-auto px-6">
      <h1 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4">
        Shipped
      </h1>

      <p class="text-lg text-gray-600 dark:text-gray-400 mb-4">
        A timeline of things that actually shipped. Products launched, platforms built, outcomes delivered.
      </p>

      <!-- Legend -->
      <div class="flex flex-wrap gap-4 mb-12 text-sm">
        <span class="flex items-center gap-1.5"><span>ðŸš€</span> Product</span>
        <span class="flex items-center gap-1.5"><span>ðŸ”§</span> Platform</span>
        <span class="flex items-center gap-1.5"><span>ðŸ“ˆ</span> Process</span>
        <span class="flex items-center gap-1.5"><span>ðŸ’¡</span> Startup</span>
      </div>

      <!-- Timeline -->
      <div class="relative">
        <!-- Timeline line -->
        <div class="absolute left-4 top-0 bottom-0 w-0.5 bg-gradient-to-b from-orange-500 via-blue-500 to-emerald-500"></div>

        <div class="space-y-6">
          {timeline.map((item) => (
            <div class={`relative pl-12 ${item.highlight ? '' : ''}`}>
              <!-- Timeline dot -->
              <div class={`absolute left-2 top-1 w-5 h-5 rounded-full flex items-center justify-center text-xs
                ${item.highlight
                  ? 'bg-orange-500 ring-4 ring-orange-200 dark:ring-orange-900'
                  : 'bg-gray-300 dark:bg-gray-600'}`}>
                {item.highlight && <span class="text-white text-[10px]">â˜…</span>}
              </div>

              <div class={`p-4 rounded-xl border transition-all
                ${item.highlight
                  ? 'bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800'
                  : 'bg-white dark:bg-gray-800/50 border-gray-200 dark:border-gray-700'}`}>

                <div class="flex flex-wrap items-center gap-2 mb-2">
                  <span class="text-xs font-mono text-gray-400 dark:text-gray-500">{item.year}</span>
                  <span class="text-xs px-2 py-0.5 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300">
                    {item.company}
                  </span>
                  <span class="text-sm">{typeIcons[item.type]}</span>
                </div>

                <h3 class={`font-bold mb-1 ${item.highlight ? 'text-orange-900 dark:text-orange-100' : 'text-gray-900 dark:text-white'}`}>
                  {item.ship}
                </h3>
                <p class="text-sm text-gray-600 dark:text-gray-400">
                  {item.result}
                </p>
              </div>
            </div>
          ))}
        </div>
      </div>

      <!-- Bottom CTA -->
      <div class="mt-12 p-6 rounded-xl bg-gray-100 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 text-center">
        <p class="text-gray-700 dark:text-gray-300 mb-2">
          <span class="font-bold text-2xl text-orange-600 dark:text-orange-400">20 years</span> of shipping.
        </p>
        <p class="text-sm text-gray-600 dark:text-gray-400">
          From startups to scale-ups, fintech to e-commerce. The pattern: build, ship, measure, repeat.
        </p>
      </div>

      <div class="mt-8 pt-8 border-t border-gray-200 dark:border-gray-700">
        <a href="/" class="inline-flex items-center gap-2 text-orange-600 dark:text-accent hover:underline">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
          </svg>
          Back to home
        </a>
      </div>
    </div>
  </section>
</BaseLayout>
