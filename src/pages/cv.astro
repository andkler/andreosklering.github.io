---
import BaseLayout from '../layouts/BaseLayout.astro';

// Career timeline - visual representation
interface TimelineEntry {
  year: string;
  title: string;
  company: string;
  location: string;
  type: string;
  highlights: string[];
  isEarly?: boolean;
}

const timeline: TimelineEntry[] = [
  {
    year: '2025',
    title: 'Head of Engineering, Growth & Customer Experience',
    company: 'Nexar',
    location: 'Portugal',
    type: 'leadership',
    highlights: [
      'Leading two teams across B2B and B2C product lines in a high-scale vision AI company',
      'Delivered tooling for marketing self-serve deployment, enabling high-velocity experimentation',
      'Ran end-to-end growth experiments testing conversion impact of product offering changes',
      'Structured the org around autonomy and ownership across remote European teams',
    ]
  },
  {
    year: '2024',
    title: 'Head of Engineering',
    company: 'Rauva',
    location: 'Portugal',
    type: 'leadership',
    highlights: [
      'Scaled and led 20+ engineer org across 4 squads, boosting throughput by 50%',
      'Launched Rauva Pay in under 3 weeks → 50%+ cohort adoption, >1000% revenue growth',
      'Implemented DORA metrics driving 66% bug reduction in one quarter',
      'Partnered with CEO and Board to align tech roadmap with business goals',
    ]
  },
  {
    year: '2023',
    title: 'Product Engineering Manager, Fraud',
    company: 'Inscribe',
    location: 'Dublin, Ireland (Remote)',
    type: 'leadership',
    highlights: [
      'Led Fraud vertical (~80% of ARR), doubled development capacity with new teams',
      'Introduced prioritization framework increasing throughput 60%',
      'Shifted to AI-first detection, improving model accuracy by +5%',
      'Enabled client wins with Airbase, Plaid, Ramp; drove $300K+ fraud savings',
    ]
  },
  {
    year: '2022',
    title: 'Head of Engineering, Commerce and Payment Experience',
    company: 'Primer',
    location: 'London, UK (Remote)',
    type: 'leadership',
    highlights: [
      'Directed 7 squads (~40 engineers), managing 50% of company output',
      'Re-architected checkout services, accelerating feature delivery by 80%',
      'Slashed third-party onboarding from 1 month to 2 days via developer-focused APIs',
      'Embedded payment telemetry; delivered 7.5% uplift in authorization rates',
    ]
  },
  {
    year: '2019',
    title: 'Engineering Manager (Manager of Managers)',
    company: 'Farfetch',
    location: 'Porto, Portugal',
    type: 'leadership',
    highlights: [
      'Scaled Identity & Account engineering from 1 to 4 squads (15+ staff), serving 3.9M MAUs',
      'Launched unified Farfetch Login, cutting login-related support tickets by 50%',
      'Implemented CI/CD automation for 90% faster release cadence with daily deployments',
      'Conducted R&D in Web3/NFT identity—positioned Farfetch in future identity tech',
    ]
  },
  {
    year: '2018',
    title: 'Senior Consultant',
    company: 'ThoughtWorks',
    location: 'Brazil',
    type: 'consulting',
    highlights: [
      'Contributed to agile transformation for a leading US retailer\'s inventory system',
      'Aligned engineering processes with logistics KPIs',
    ]
  },
  {
    year: '2017',
    title: 'Founder, Product and Engineering',
    company: 'LivingOffset',
    location: 'Dublin, Ireland',
    type: 'founder',
    highlights: [
      'Founded climate-focused tech startup leveraging blockchain for carbon offsetting',
      'Built and managed 9-person cross-functional team, delivering polished MVP',
      'Developed Ethereum-based offset tracking system with verified carbon APIs',
      'Deep lessons on lean product validation and building empowered teams from scratch',
    ]
  },
  {
    year: '2012',
    title: 'Founder & CEO / CTO',
    company: 'TargetBeyond',
    location: 'Brazil',
    type: 'founder',
    highlights: [
      'Founded 20+ person consultancy delivering full-cycle platforms',
      'Delivered 20+ software products to clients in banking, betting, and manufacturing',
      'Built distributed engineering org across LATAM and Europe',
      'Managed vendors, infra, budget, and architecture across all accounts',
    ]
  },
  {
    year: '2010',
    title: 'Senior Full Stack Software Engineer',
    company: 'De Lage Landen',
    location: 'Dublin, Ireland',
    type: 'engineering',
    highlights: [
      'Contributed to global finance platform modernization',
      'Introduced ElasticSearch, cutting query latency by 70%',
      'Led UX redesign for credit workflow; increased resolution rates by 50%',
    ],
    isEarly: true
  },
  {
    year: '2007',
    title: 'Full Stack Software Engineer, R&D',
    company: 'CWI Software',
    location: 'Brazil',
    type: 'engineering',
    highlights: [
      'Developed internal code generation tools reducing manual dev time by 90%',
      'Introduced company-wide unit testing and CI systems',
      'Supported senior engineers in architecture reviews and performance tuning',
    ],
    isEarly: true
  },
];

const skills = {
  'Engineering Leadership': ['Team Scaling', 'Hiring & Mentoring', 'Fostering Autonomy', 'Driving Growth'],
  'Technical Strategy': ['Backend Architecture', 'API Design', 'Distributed Systems', 'System Design'],
  'Developer Experience': ['CI/CD', 'Tooling', 'Automation', 'Performance Optimization'],
  'Tech Stack': ['.NET', 'TypeScript', 'APIs', 'AWS', 'Azure', 'Kubernetes'],
  'Domains': ['Fintech', 'Payments', 'SaaS', 'E-commerce', 'Identity'],
};

const education = [
  { name: 'UNISINOS', detail: 'Bachelor\'s in Information Technology', focus: 'Magna cum laude · Top Student (Class 2013)' },
];

const typeColors: Record<string, string> = {
  leadership: 'bg-orange-500',
  engineering: 'bg-blue-500',
  consulting: 'bg-violet-500',
  founder: 'bg-emerald-500',
};
---

<BaseLayout title="CV" description="Andreos Klering - CV and work experience">
  <section class="py-16 lg:py-20">
    <div class="max-w-5xl mx-auto px-6">
      <!-- Header -->
      <div class="flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6 mb-16">
        <div class="flex-1">
          <h1 class="text-3xl lg:text-4xl font-bold tracking-tight text-gray-900 dark:text-white mb-3">
            Andreos Klering
          </h1>
          <p class="text-xl text-gray-600 dark:text-gray-400 mb-4">
            Product Engineering Leader & Builder
          </p>
          <p class="text-gray-700 dark:text-gray-300 max-w-2xl">
            Product engineering leader with 20 years building teams, products, and AI-driven engineering cultures. I help organizations navigate the shift from output-driven to outcome-driven—faster cycles, clearer decisions, systems that scale. Proven success leading distributed teams across fintech, SaaS, and payments.
          </p>
        </div>
        <div class="flex flex-col gap-2 self-start shrink-0">
          <a
            href="/cv/andreos-klering-cv.pdf"
            download
            class="btn-primary"
          >
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
            </svg>
            Download PDF
          </a>
          <a
            href="/cv/andreos-klering-cv-ats.txt"
            download
            class="text-xs text-center text-gray-500 dark:text-gray-400 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"
          >
            ATS-friendly text version
          </a>
        </div>
      </div>

      <!-- Key Highlights - Compact Visual Cards -->
      <div class="grid grid-cols-4 gap-2 mb-10">
        <div class="stat-card rounded-lg p-3 border bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700">
          <p class="text-2xl font-bold mb-0.5 text-gray-700 dark:text-gray-300">20</p>
          <p class="text-xs text-gray-600 dark:text-gray-400">Years building</p>
        </div>
        <div class="stat-card rounded-lg p-3 border bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800">
          <p class="text-2xl font-bold mb-0.5 text-orange-700 dark:text-orange-400">20+</p>
          <p class="text-xs text-orange-600 dark:text-orange-500">Products shipped</p>
        </div>
        <div class="stat-card rounded-lg p-3 border bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800">
          <p class="text-2xl font-bold mb-0.5 text-blue-700 dark:text-blue-400">40+</p>
          <p class="text-xs text-blue-600 dark:text-blue-500">Engineers led</p>
        </div>
        <div class="stat-card rounded-lg p-3 border bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800">
          <p class="text-2xl font-bold mb-0.5 text-emerald-700 dark:text-emerald-400">2</p>
          <p class="text-xs text-emerald-600 dark:text-emerald-500">Startups founded</p>
        </div>
      </div>
      <p class="text-xs text-gray-500 dark:text-gray-400 mb-10 -mt-6">
        <a href="/proof" class="hover:text-orange-600 dark:hover:text-orange-400 underline underline-offset-2">How these are measured →</a>
      </p>

      <!-- Two Column Layout -->
      <div class="grid lg:grid-cols-3 gap-12 lg:gap-16">

        <!-- Main Content - Timeline -->
        <div class="lg:col-span-2 min-w-0">
          <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-8 flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3">
            <span>Experience</span>
            <div class="flex flex-wrap gap-2 text-xs">
              <span class="flex items-center gap-1"><span class="w-2 h-2 rounded-full bg-orange-500"></span> Leadership</span>
              <span class="flex items-center gap-1"><span class="w-2 h-2 rounded-full bg-emerald-500"></span> Founder</span>
              <span class="flex items-center gap-1"><span class="w-2 h-2 rounded-full bg-blue-500"></span> Engineering</span>
              <span class="flex items-center gap-1"><span class="w-2 h-2 rounded-full bg-violet-500"></span> Consulting</span>
            </div>
          </h2>

          <div class="relative">
            <!-- Timeline line -->
            <div class="absolute left-[7px] top-2 bottom-2 w-0.5 bg-gray-200 dark:bg-gray-700"></div>

            <div class="space-y-8">
              {timeline.map((job, index) => (
                <div class="relative pl-8">
                  <!-- Timeline dot -->
                  <div class={`absolute left-0 top-1.5 w-4 h-4 rounded-full ${typeColors[job.type]} ring-4 ring-white dark:ring-gray-900`}></div>

                  <div class="flex flex-col sm:flex-row sm:items-baseline gap-1 sm:gap-3 mb-2">
                    <span class="text-xs font-mono text-gray-400 dark:text-gray-500 sm:order-last">{job.year}</span>
                    <h3 class="font-bold text-gray-900 dark:text-white">{job.title}</h3>
                  </div>
                  <p class="text-orange-600 dark:text-accent text-sm font-medium mb-2">{job.company}</p>
                  <ul class="space-y-1">
                    {job.highlights.map((item) => (
                      <li class="text-sm text-gray-700 dark:text-gray-400 flex items-start gap-2">
                        <span class="text-gray-400 dark:text-gray-600 mt-1">·</span>
                        <span>{item}</span>
                      </li>
                    ))}
                  </ul>
                </div>
              ))}
            </div>
          </div>
        </div>

        <!-- Sidebar -->
        <div class="lg:col-span-1 space-y-10 min-w-0">
          <!-- Skills -->
          <div>
            <h2 class="text-xl font-bold mb-6">Skills</h2>
            <div class="space-y-5">
              {Object.entries(skills).map(([category, items]) => (
                <div>
                  <h3 class="text-sm font-medium mb-2">{category}</h3>
                  <div class="flex flex-wrap gap-1.5">
                    {items.map((skill) => (
                      <span class="skill-tag text-xs px-2 py-1 rounded">
                        {skill}
                      </span>
                    ))}
                  </div>
                </div>
              ))}
            </div>
          </div>

          <!-- Education -->
          <div>
            <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-6">Education</h2>
            <div class="space-y-4">
              {education.map((edu) => (
                <div>
                  <p class="font-medium text-gray-900 dark:text-white text-sm">{edu.name}</p>
                  <p class="text-sm text-gray-500 dark:text-gray-400">{edu.detail}</p>
                  {edu.focus && <p class="text-xs text-gray-400 dark:text-gray-500">{edu.focus}</p>}
                </div>
              ))}
            </div>
          </div>

          <!-- Languages -->
          <div>
            <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">Languages</h2>
            <div class="space-y-2 text-sm">
              <div class="flex justify-between gap-4">
                <span class="text-gray-600 dark:text-gray-400">Portuguese</span>
                <span class="text-gray-400 dark:text-gray-500 shrink-0">Native</span>
              </div>
              <div class="flex justify-between gap-4">
                <span class="text-gray-600 dark:text-gray-400">English</span>
                <span class="text-gray-400 dark:text-gray-500 shrink-0">Fluent</span>
              </div>
            </div>
          </div>

          <!-- Contact -->
          <div class="pt-6 border-t border-gray-200 dark:border-gray-700">
            <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">Contact</h2>
            <div class="space-y-2 text-sm">
              <a href="https://linkedin.com/in/aklering" target="_blank" class="text-orange-600 dark:text-accent hover:underline block">linkedin.com/in/aklering</a>
              <a href="https://andreos.dev" class="text-orange-600 dark:text-accent hover:underline block">andreos.dev</a>
              <a href="mailto:hey@andreos.dev" class="text-orange-600 dark:text-accent hover:underline block">hey@andreos.dev</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>
